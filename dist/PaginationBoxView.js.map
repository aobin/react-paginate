{"version":3,"sources":["../react_components/PaginationBoxView.js"],"names":["PaginationBoxView","props","handlePreviousPage","evt","preventDefault","returnValue","state","selected","handlePageSelected","handleNextPage","pageNum","setState","callCallback","selectedItem","clickCallback","pagination","items","pageRangeDisplayed","index","bind","pageClassName","pageLinkClassName","activeClassName","leftSide","rightSide","page","breakView","pageView","marginPagesDisplayed","keys","Object","breakLabelKey","length","breakLabelValue","breakLabel","breakClassName","initialSelected","forceSelected","nextProps","disabled","disabledClassName","previousClasses","previousClassName","nextClasses","nextClassName","containerClassName","previousLinkClassName","previousLabel","nextLinkClassName","nextLabel","propTypes","number","isRequired","node","func","string","defaultProps"],"mappings":"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","file":"PaginationBoxView.js","sourcesContent":["'use strict';\r\n\r\nimport React, { Component, PropTypes } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport createFragment from 'react-addons-create-fragment';\r\nimport PageView from './PageView';\r\nimport BreakView from './BreakView';\r\n\r\n\r\nexport default class PaginationBoxView extends Component {\r\n  static propTypes = {\r\n    pageNum               : PropTypes.number.isRequired,\r\n    pageRangeDisplayed    : PropTypes.number.isRequired,\r\n    marginPagesDisplayed  : PropTypes.number.isRequired,\r\n    previousLabel         : PropTypes.node,\r\n    nextLabel             : PropTypes.node,\r\n    breakLabel            : PropTypes.node,\r\n    clickCallback         : PropTypes.func,\r\n    initialSelected       : PropTypes.number,\r\n    forceSelected         : PropTypes.number,\r\n    containerClassName    : PropTypes.string,\r\n    pageClassName         : PropTypes.string,\r\n    pageLinkClassName     : PropTypes.string,\r\n    activeClassName       : PropTypes.string,\r\n    previousClassName     : PropTypes.string,\r\n    nextClassName         : PropTypes.string,\r\n    previousLinkClassName : PropTypes.string,\r\n    nextLinkClassName     : PropTypes.string,\r\n    disabledClassName     : PropTypes.string,\r\n    breakClassName        : PropTypes.string\r\n  };\r\n\r\n  static defaultProps = {\r\n    pageNum              : 10,\r\n    pageRangeDisplayed   : 2,\r\n    marginPagesDisplayed : 3,\r\n    activeClassName      : \"selected\",\r\n    previousClassName    : \"previous\",\r\n    nextClassName        : \"next\",\r\n    previousLabel        : \"Previous\",\r\n    nextLabel            : \"Next\",\r\n    breakLabel           : \"...\",\r\n    disabledClassName    : \"disabled\"\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: props.initialSelected ? props.initialSelected :\r\n                props.forceSelected   ? props.forceSelected :\r\n                0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Call the callback with the initialSelected item:\r\n    if (typeof(this.props.initialSelected) !== 'undefined') {\r\n      this.callCallback(this.props.initialSelected);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (typeof(nextProps.forceSelected) !== 'undefined' && this.props.forceSelected !== nextProps.forceSelected) {\r\n      this.setState({selected: nextProps.forceSelected});\r\n    }\r\n  }\r\n\r\n  handlePreviousPage = evt => {\r\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n    if (this.state.selected > 0) {\r\n      this.handlePageSelected(this.state.selected - 1, evt);\r\n    }\r\n  };\r\n\r\n  handleNextPage = evt => {\r\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n    if (this.state.selected < this.props.pageNum - 1) {\r\n      this.handlePageSelected(this.state.selected + 1, evt);\r\n    }\r\n  };\r\n\r\n  handlePageSelected = (selected, evt) => {\r\n    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n\r\n    if (this.state.selected === selected) return;\r\n\r\n    this.setState({selected: selected});\r\n\r\n    // Call the callback with the new selected item:\r\n    this.callCallback(selected);\r\n  };\r\n\r\n  callCallback = (selectedItem) => {\r\n    if (typeof(this.props.clickCallback) !== \"undefined\" &&\r\n        typeof(this.props.clickCallback) === \"function\") {\r\n      this.props.clickCallback({selected: selectedItem});\r\n    }\r\n  };\r\n\r\n  pagination = () => {\r\n    let items = {};\r\n\r\n    if (this.props.pageNum <= this.props.pageRangeDisplayed) {\r\n\r\n      for (let index = 0; index < this.props.pageNum; index++) {\r\n        items['key' + index] = <PageView\r\n          onClick={this.handlePageSelected.bind(null, index)}\r\n          selected={this.state.selected === index}\r\n          pageClassName={this.props.pageClassName}\r\n          pageLinkClassName={this.props.pageLinkClassName}\r\n          activeClassName={this.props.activeClassName}\r\n          page={index + 1} />\r\n      }\r\n\r\n    } else {\r\n\r\n      let leftSide  = (this.props.pageRangeDisplayed / 2);\r\n      let rightSide = (this.props.pageRangeDisplayed - leftSide);\r\n\r\n      if (this.state.selected > this.props.pageNum - this.props.pageRangeDisplayed / 2) {\r\n        rightSide = this.props.pageNum - this.state.selected;\r\n        leftSide  = this.props.pageRangeDisplayed - rightSide;\r\n      }\r\n      else if (this.state.selected < this.props.pageRangeDisplayed / 2) {\r\n        leftSide  = this.state.selected;\r\n        rightSide = this.props.pageRangeDisplayed - leftSide;\r\n      }\r\n\r\n      let index;\r\n      let page;\r\n      let breakView;\r\n\r\n      for (index = 0; index < this.props.pageNum; index++) {\r\n\r\n        page = index + 1;\r\n\r\n        let pageView = (\r\n          <PageView\r\n            onClick={this.handlePageSelected.bind(null, index)}\r\n            selected={this.state.selected === index}\r\n            pageClassName={this.props.pageClassName}\r\n            pageLinkClassName={this.props.pageLinkClassName}\r\n            activeClassName={this.props.activeClassName}\r\n            page={index + 1} />\r\n        );\r\n\r\n        if (page <= this.props.marginPagesDisplayed) {\r\n          items['key' + index] = pageView;\r\n          continue;\r\n        }\r\n\r\n        if (page > this.props.pageNum - this.props.marginPagesDisplayed) {\r\n          items['key' + index] = pageView;\r\n          continue;\r\n        }\r\n\r\n        if ((index >= this.state.selected - leftSide) && (index <= this.state.selected + rightSide)) {\r\n          items['key' + index] = pageView;\r\n          continue;\r\n        }\r\n\r\n        let keys            = Object.keys(items);\r\n        let breakLabelKey   = keys[keys.length - 1];\r\n        let breakLabelValue = items[breakLabelKey];\r\n\r\n        if (this.props.breakLabel && breakLabelValue !== breakView) {\r\n          breakView = (\r\n            <BreakView\r\n              breakLabel={this.props.breakLabel}\r\n              breakClassName={this.props.breakClassName}\r\n            />\r\n          );\r\n\r\n          items['key' + index] = breakView;\r\n        }\r\n      }\r\n    }\r\n\r\n    return items;\r\n  };\r\n\r\n  render() {\r\n    let disabled = this.props.disabledClassName;\r\n\r\n    const previousClasses = classNames(this.props.previousClassName,\r\n                                       {[disabled]: this.state.selected === 0});\r\n\r\n    const nextClasses = classNames(this.props.nextClassName,\r\n                                   {[disabled]: this.state.selected === this.props.pageNum - 1});\r\n\r\n    return (\r\n      <ul className={this.props.containerClassName}>\r\n        <li onClick={this.handlePreviousPage} className={previousClasses}>\r\n          <a className={this.props.previousLinkClassName}>{this.props.previousLabel}</a>\r\n        </li>\r\n\r\n        {createFragment(this.pagination())}\r\n\r\n        <li onClick={this.handleNextPage} className={nextClasses}>\r\n          <a className={this.props.nextLinkClassName}>{this.props.nextLabel}</a>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n};\r\n"]}